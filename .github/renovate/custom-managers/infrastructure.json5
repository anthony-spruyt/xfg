{
  "$generated": "This file is automatically updated - do not modify directly",
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "customManagers": [
    {
      "customType": "regex",
      "description": [
        "Headlamp plugins from ArtifactHub."
      ],
      "managerFilePatterns": [
        "/(^|/)cluster/apps/headlamp-system/.+\\.ya?ml$/"
      ],
      "matchStrings": [
        "#\\s*renovate:\\s*depName=(?<depName>[^\\s]+)[\\s\\S]*?version:\\s*(?<currentValue>\\d[^\\s]*)"
      ],
      "datasourceTemplate": "custom.artifacthub-headlamp"
    },
    {
      "customType": "regex",
      "description": [
        "OCI Helm charts in Talos helmfile."
      ],
      "managerFilePatterns": [
        "/(^|/)talos/helmfile/.+\\.ya?ml$/"
      ],
      "matchStrings": [
        "chart:\\s*oci://(?<chartPath>[\\w./-]+)\\s*\\n[^\\S\\n]*version:\\s*(?<currentValue>[^\\s\"']+)"
      ],
      "depNameTemplate": "{{{chartPath}}}",
      "datasourceTemplate": "docker",
      "packageNameTemplate": "{{{chartPath}}}"
    },
    {
      "customType": "regex",
      "description": [
        "Non-OCI Helm charts in Talos helmfile."
      ],
      "managerFilePatterns": [
        "/(^|/)talos/helmfile/.+\\.ya?ml$/"
      ],
      "matchStrings": [
        "chart:\\s*(?<chartPath>[\\w./-]+)\\s*\\n[^\\S\\n]*version:\\s*(?<currentValue>[^\\s\"']+)"
      ],
      "depNameTemplate": "{{{chartPath}}}",
      "datasourceTemplate": "helm",
      "packageNameTemplate": "{{{chartPath}}}"
    },
    {
      "customType": "regex",
      "description": [
        "Flux OCI repository refs."
      ],
      "managerFilePatterns": [
        "/(^|/)cluster/flux/meta/repositories/oci/.+\\.ya?ml$/"
      ],
      "matchStrings": [
        "url:\\s*oci://(?<depNamePath>[^\\s]+)[^\\S\\n]*\\n(?:[\\s\\S]*?)?ref:\\s*\\n[^\\S\\n]*tag:\\s*\"?(?<currentValue>[^\"\\s]+)\"?"
      ],
      "depNameTemplate": "{{{depNamePath}}}",
      "datasourceTemplate": "docker",
      "packageNameTemplate": "{{{depNamePath}}}"
    },
    {
      "customType": "regex",
      "description": [
        "OCI artifact references in cluster manifests."
      ],
      "managerFilePatterns": [
        "/(^|/)cluster/.+\\.ya?ml$/"
      ],
      "matchStrings": [
        "artifact:\\s*\"?oci://(?<depNamePath>[^:\"\\s]+)(?::|@)(?<currentValue>[^\"\\s]+)\"?"
      ],
      "depNameTemplate": "{{{depNamePath}}}",
      "packageNameTemplate": "{{{depNamePath}}}",
      "datasourceTemplate": "docker"
    },
    {
      "customType": "regex",
      "description": [
        "Container images in Taskfiles, scripts, and cluster manifests."
      ],
      "managerFilePatterns": [
        "/(^|/)\\.taskfiles/.+\\.(ya?ml|tmpl\\.ya?ml)$/",
        "/(^|/)\\.taskfiles/.+/scripts/.+\\.(sh|bash)$/",
        "/(^|/)cluster/.+\\.ya?ml$/"
      ],
      "matchStrings": [
        "image:\\s*(?<depName>[^:\\s]+):(?<currentValue>[^\\s\"']+)",
        "(?<depName>(?:ghcr|docker\\.io|quay\\.io|registry\\.k8s\\.io)[^:\\s]+):(?<currentValue>[^\\s\"']+)"
      ],
      "depNameTemplate": "{{{depName}}}",
      "packageNameTemplate": "{{{depName}}}",
      "datasourceTemplate": "docker"
    }
  ]
}
